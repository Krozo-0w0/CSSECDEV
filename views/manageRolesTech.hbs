<main class="mod-container">
    <div class="head-container">
        <div class="back"><img src="/images/back.png" onclick="redirectRoom()"></div>
        <div id="manage-Maintitle">Manage All roles</div>
    </div>
    <div id="button-container">
        <div id="add-user-button" onclick="window.location.href='/register'">Add User</div>
    </div>
    
    <div class="userListContainer">
        <table class="log-table" id="log-table">
        <thead>
            <tr>
                <th>Email</th>
                <th>Username</th>
                <th>Role</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {{#each resData}}
                <tr>
                    <td>{{email}}</td>
                    <td>{{username}}</td>
                    <td>{{role}}</td>
                    <td>
                        <div id="action-container">
                            <input class="assign-button" id="{{email}}" type="submit" value="Assign"> 
                            <input class="delete-button"  id="{{email}}" type="submit" value="Delete">
                        </div>
                    </td>
                    
                    </tr>
            {{/each}}
        </tbody>

        </table>
    </div>

    <!-- Pop-out Assign Modal -->
    <div id="assignModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" id="closeAssignModal">&times;</span>
        <h2>Assign Role</h2>
        <p id="selectedUser"></p>

        <label for="newRole">Select new role:</label>
        <select id="newRole">
        <option value="roleA">Role A</option>
        <option value="roleB">Role B</option>
        <option value="admin">Technician (Admin)</option>
        </select>

        <button id="saveRoleBtn">Save</button>
    </div>
    </div>

    <!-- PASSWORD CONFIRMATION MODAL -->
    <div id="passwordConfirmModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="closePasswordModal">&times;</span>
            <h2>Confirm Deletion</h2>
            <p id="passwordModalText"></p>

            <label for="adminPassword">Enter your password:</label>
            <input type="password" id="adminPassword" class="form-control" placeholder="Password">

            <button id="confirmDeleteBtn" class="modal-btn danger">Delete User</button>
        </div>
    </div>
</main>